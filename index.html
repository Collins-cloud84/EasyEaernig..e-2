<!DOCTYPE html>
<html>
<head>
  <title>EasyEarning-e² | Affiliate Marketing Platform</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { margin: 0; font-family: 'Segoe UI', Arial, sans-serif; min-height: 100vh; }
    .main-blue { color: #2466c2; }
    .blue-bg { background: linear-gradient(135deg, #2466c2 0%, #e6e0ff 100%); }
    .home-container { max-width: 410px; margin: 80px auto; background: #fff; border-radius: 18px; padding: 36px 32px; box-shadow: 0 8px 32px rgba(36,102,194,0.12); }
    .home-card { background: #f6faff; padding: 24px 18px; border-radius: 12px; margin-bottom: 22px; color: #2466c2; box-shadow: 0 2px 8px rgba(36,102,194,0.07); }
    .payment-info { background: #e3f2fd; border-left: 5px solid #2466c2; padding: 10px 18px; border-radius: 8px; margin: 18px 0; }
    .pay-number { font-weight: bold; font-size: 1.1em; color: #36cfc9; }
    form label { display: block; margin-top: 18px; font-weight: 500; color: #2466c2; }
    form input, form select { width: 100%; padding: 10px 12px; margin-top: 6px; border: 1.5px solid #2466c2; border-radius: 8px; font-size: 1em; background: #f8fafc; margin-bottom: 6px;}
    form input:focus, form select:focus { border-color: #36cfc9; outline: none; }
    .btn-blue { background: linear-gradient(90deg, #2466c2 60%, #36cfc9 100%); color: #fff; border: none; padding: 13px 30px; border-radius: 8px; font-size: 1.09em; font-weight: bold; margin-top: 18px; cursor: pointer; transition: background 0.2s;}
    .btn-blue:hover { background: #fed766; color: #2466c2; }
    .btn-blue-outline { background: #fff; color: #2466c2; border: 2px solid #2466c2; padding: 10px 24px; border-radius: 7px; font-weight: bold; margin-top: 12px; margin-right: 8px; cursor: pointer; transition: background 0.2s, color 0.2s;}
    .btn-blue-outline:hover { background: #2466c2; color: #fff; }
    .vertical-sidebar { position: fixed; left: 0; top: 0; bottom: 0; width: 200px; background: linear-gradient(135deg, #2466c2 60%, #36cfc9 100%); color: #fff; box-shadow: 2px 0 8px rgba(36,102,194,0.09); display: flex; flex-direction: column; align-items: center; padding-top: 28px; z-index: 10; }
    .vertical-sidebar .logo { font-size: 1.5em; font-weight: bold; margin-bottom: 32px; letter-spacing: 1px; background: linear-gradient(90deg, #fed766 80%, #fff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .vertical-sidebar ul { list-style: none; padding: 0; width: 100%; }
    .vertical-sidebar ul li { width: 100%; margin-bottom: 12px; }
    .vertical-sidebar ul li a { display: block; padding: 14px 24px; color: #fff; text-decoration: none; font-size: 1.08em; border-radius: 8px 0 0 8px; transition: background 0.2s, color 0.2s;}
    .vertical-sidebar ul li a:hover { background: #fed766; color: #2466c2; }
    .main-content { margin-left: 200px; padding: 30px 16px; }
    .container { background: #fff; padding: 28px 22px; border-radius: 18px; box-shadow: 0 8px 32px rgba(36,102,194,0.11); max-width: 650px; margin: 0 auto 38px auto; }
    h1, h2, h3 { color: #2466c2; margin-bottom: 18px; font-weight: 700; letter-spacing: 0.5px;}
    .dashboard-card, .referral-card, .withdrawal-card, .leaderboard-card { background: linear-gradient(90deg, #e3f2fd 0%, #e6e0ff 100%); padding: 18px 16px; border-radius: 12px; margin-bottom: 22px; color: #2466c2; box-shadow: 0 2px 8px rgba(36,102,194,0.10);}
    .earn-tab-content { margin-top: 18px; }
    #photoGallery img, #videoGallery video { width: 120px; border-radius: 8px; margin: 8px; box-shadow: 0 2px 8px rgba(36,102,194,0.11); cursor: pointer; border: 2px solid transparent; transition: border 0.2s;}
    #photoGallery img.liked { border: 2px solid #36cfc9; }
    #videoGallery video.watched { border: 2px solid #fed766; }
    table { border-collapse: collapse; width: 100%; }
    table thead { background: linear-gradient(90deg, #2466c2 60%, #36cfc9 100%); color: #fff;}
    table th, table td { padding: 12px 8px; text-align: left; border-bottom: 1px solid #ddd; }
    @media (max-width: 900px) { .main-content { margin-left: 0; } .vertical-sidebar { position: relative; width: 100%; height: auto; flex-direction: row; justify-content: center; padding: 0;} .vertical-sidebar ul { flex-direction: row; display: flex; justify-content: center;} .vertical-sidebar ul li a { border-radius: 8px; margin: 0 2px;} .container { max-width: 97vw; } }
  </style>
</head>
<body>
  <!-- Homepage (Registration/Login) -->
  <div id="homepage" class="home-container">
    <h1 class="main-blue">EasyEarning-e²</h1>
    <div class="home-card">
      <p>Earn money by inviting friends and completing tasks!</p>
      <form id="registrationForm">
        <label>Username:</label>
        <input type="text" name="username" required>
        <label>Phone Number:</label>
        <input type="tel" name="phone" required>
        <label>Email:</label>
        <input type="email" name="email" required>
        <label>Password:</label>
        <input type="password" name="password" required>
        <label>Country:</label>
        <select name="country" required>
          <option value="">Select Country</option>
          <option value="Kenya">Kenya</option>
          <option value="Uganda">Uganda</option>
        </select>
        <div class="payment-info">
          <label>Registration Fee (200 KES):</label>
          <p>
            Pay <strong>200 KES</strong> to <span class="pay-number">Mpesa: 0740685187</span>.<br>
            Payment details will be provided after registration.
          </p>
        </div>
        <button type="submit" class="btn-blue">Register</button>
      </form>
      <p>Already registered? <a href="#" class="main-blue" onclick="showApp()">Login here</a></p>
    </div>
  </div>

  <!-- Main App Sections -->
  <div id="app" style="display:none;">
    <div class="sidebar vertical-sidebar">
      <div class="logo main-blue">EasyEarning-e²</div>
      <ul>
        <li><a href="#" onclick="showSection('dashboard')">Dashboard</a></li>
        <li><a href="#" onclick="showSection('earn')">Earn</a></li>
        <li><a href="#" onclick="showSection('referral')">Referral</a></li>
        <li><a href="#" onclick="showSection('withdrawal')">Withdrawal</a></li>
        <li><a href="#" onclick="showSection('leaderboard')">Leaderboard</a></li>
        <li><a href="#" onclick="logout()">Logout</a></li>
      </ul>
    </div>
    <div class="main-content">
      <!-- Dashboard -->
      <section id="dashboard">
        <div class="container">
          <h2>Dashboard</h2>
          <div class="dashboard-card">
            <p>Welcome, <span id="dashboardUsername"></span>!</p>
            <ul>
              <li>Total Earnings: <span id="totalEarnings">0 KES</span></li>
              <li>Referral Earnings (Level 1): <span id="referralEarningsL1">0 KES</span></li>
              <li>Referral Earnings (Level 2): <span id="referralEarningsL2">0 KES</span></li>
              <li>Photo Likes Earnings: <span id="likesEarnings">0 KES</span></li>
              <li>Video Watch Earnings: <span id="videoEarnings">0 KES</span></li>
              <li>Trivia Earnings: <span id="triviaEarnings">0 KES</span></li>
              <li>Your Referral Link: <span id="referralLink">[Link]</span></li>
              <li>Available Balance: <span id="availableBalance">0 KES</span></li>
              <li>Withdrawn: <span id="withdrawnBalance">0 KES</span></li>
            </ul>
          </div>
        </div>
      </section>
      <!-- Earn Section -->
      <section id="earn" style="display:none;">
        <div class="container">
          <h2>Earn Money</h2>
          <div class="earn-tabs">
            <button onclick="showEarnTab('photos')" class="btn-blue-outline">Like Photos</button>
            <button onclick="showEarnTab('videos')" class="btn-blue-outline">Watch Videos</button>
            <button onclick="showEarnTab('trivia')" class="btn-blue-outline">Trivia Questions</button>
          </div>
          <div id="earnPhotos" class="earn-tab-content">
            <h3>Like Photos (5 KES/photo)</h3>
            <div id="photoGallery"></div>
          </div>
          <div id="earnVideos" class="earn-tab-content" style="display:none;">
            <h3>Watch Videos (5 KES/video)</h3>
            <div id="videoGallery"></div>
          </div>
          <div id="earnTrivia" class="earn-tab-content" style="display:none;">
            <h3>Trivia Questions (1 KES/correct answer)</h3>
            <div id="triviaQuestions"></div>
          </div>
        </div>
      </section>
      <!-- Referral System -->
      <section id="referral" style="display:none;">
        <div class="container">
          <h2>Referral System</h2>
          <div class="referral-card">
            <p>Share your referral link to earn:</p>
            <ul>
              <li><b>Level 1:</b> 100 KES per direct sign-up</li>
              <li><b>Level 2:</b> 50 KES per your downline's sign-up</li>
            </ul>
            <input type="text" id="userReferralLink" readonly style="width:80%;">
            <button onclick="copyReferralLink()" class="btn-blue-outline">Copy Link</button>
            <p>Level 1 Referrals: <span id="referralCountL1">0</span> | Earnings: <span id="referralEarningsL1_2">0 KES</span></p>
            <p>Level 2 Referrals: <span id="referralCountL2">0</span> | Earnings: <span id="referralEarningsL2_2">0 KES</span></p>
          </div>
        </div>
      </section>
      <!-- Withdrawal System -->
      <section id="withdrawal" style="display:none;">
        <div class="container">
          <h2>Withdraw Earnings</h2>
          <div class="withdrawal-card">
            <p>Minimum withdrawal: <strong>150 KES</strong>. Service fee: <strong>10%</strong></p>
            <form id="withdrawalForm">
              <label>Amount (KES):</label>
              <input type="number" name="amount" min="150" required>
              <label>Phone Number (for payment):</label>
              <input type="tel" name="withdrawPhone" required>
              <button type="submit" class="btn-blue">Withdraw</button>
            </form>
            <p id="withdrawalMessage"></p>
          </div>
        </div>
      </section>
      <!-- Leaderboard -->
      <section id="leaderboard" style="display:none;">
        <div class="container">
          <h2>Leaderboard</h2>
          <div class="leaderboard-card">
            <table>
              <thead>
                <tr>
                  <th>Rank</th>
                  <th>Username</th>
                  <th>Earnings (KES)</th>
                  <th>Referrals</th>
                </tr>
              </thead>
              <tbody id="leaderboardTable">
              </tbody>
            </table>
          </div>
        </div>
      </section>
    </div>
  </div>
  <script>
    // State: show homepage by default
    document.getElementById('homepage').style.display = 'block';
    document.getElementById('app').style.display = 'none';

    function showApp() {
      document.getElementById('homepage').style.display = 'none';
      document.getElementById('app').style.display = 'block';
      showSection('dashboard');
      initDashboard();
    }

    // Registration simulation
    document.getElementById('registrationForm').onsubmit = function(e) {
      e.preventDefault();
      showApp();
    };

    // Sidebar section navigation
    function showSection(sectionId) {
      const sections = document.querySelectorAll('.main-content section');
      sections.forEach(sec => sec.style.display = 'none');
      document.getElementById(sectionId).style.display = 'block';
    }

    // Earn tabs navigation
    function showEarnTab(tab) {
      document.getElementById('earnPhotos').style.display = 'none';
      document.getElementById('earnVideos').style.display = 'none';
      document.getElementById('earnTrivia').style.display = 'none';
      if (tab === 'photos') document.getElementById('earnPhotos').style.display = 'block';
      if (tab === 'videos') document.getElementById('earnVideos').style.display = 'block';
      if (tab === 'trivia') document.getElementById('earnTrivia').style.display = 'block';
    }

    // Dummy user/session data
    let user = {
      username: 'User',
      earnings: 0,
      referralEarningsL1: 0,
      referralEarningsL2: 0,
      photoEarnings: 0,
      videoEarnings: 0,
      triviaEarnings: 0,
      referralsL1: 0,
      referralsL2: 0,
      referralLink: '',
      availableBalance: 0,
      withdrawn: 0
    };

    // Dashboard setup
    function initDashboard() {
      user.username = document.querySelector('#registrationForm input[name="username"]').value || "User";
      user.referralLink = window.location.origin + '/?ref=' + user.username;
      document.getElementById('dashboardUsername').textContent = user.username;
      document.getElementById('referralLink').textContent = user.referralLink;
      document.getElementById('userReferralLink').value = user.referralLink;
      updateEarnings();
    }

    // Copy referral link
    function copyReferralLink() {
      const copyText = document.getElementById("userReferralLink");
      copyText.select();
      copyText.setSelectionRange(0, 99999);
      document.execCommand("copy");
      alert("Referral link copied!");
    }

    // Earn: Photos
    const photos = [
      {src: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb', id: 1},
      {src: 'https://images.unsplash.com/photo-1519125323398-675f0ddb6308', id: 2},
    ];
    function loadPhotos() {
      const gallery = document.getElementById('photoGallery');
      gallery.innerHTML = '';
      photos.forEach(photo => {
        const img = document.createElement('img');
        img.src = photo.src;
        img.alt = 'Photo';
        img.onclick = function() {
          if (!img.classList.contains('liked')) {
            img.classList.add('liked');
            user.photoEarnings += 5;
            user.earnings += 5;
            user.availableBalance += 5;
            updateEarnings();
          }
        };
        gallery.appendChild(img);
      });
    }

    // Earn: Videos
    const videos = [
      {src: 'https://www.w3schools.com/html/mov_bbb.mp4', id: 1},
    ];
    function loadVideos() {
      const gallery = document.getElementById('videoGallery');
      gallery.innerHTML = '';
      videos.forEach(video => {
        const vid = document.createElement('video');
        vid.src = video.src;
        vid.controls = true;
        vid.onplay = function() {
          if (!vid.classList.contains('watched')) {
            vid.classList.add('watched');
            user.videoEarnings += 5;
            user.earnings += 5;
            user.availableBalance += 5;
            updateEarnings();
          }
        };
        gallery.appendChild(vid);
      });
    }

    // Earn: Trivia
    const trivias = [
      {question: 'What is the capital of Kenya?', answer: 'Nairobi'},
      {question: '2 + 2 = ?', answer: '4'},
    ];
    function loadTrivia() {
      const container = document.getElementById('triviaQuestions');
      container.innerHTML = '';
      trivias.forEach((t, idx) => {
        const div = document.createElement('div');
        div.style.marginBottom = '12px';
        div.innerHTML = `
          <strong>${t.question}</strong><br>
          <input type="text" id="triviaInput${idx}" placeholder="Your answer">
          <button onclick="submitTrivia(${idx})" class="btn-blue-outline">Submit</button>
          <span id="triviaResult${idx}"></span>
        `;
        container.appendChild(div);
      });
    }
    function submitTrivia(idx) {
      const input = document.getElementById('triviaInput'+idx);
      const result = document.getElementById('triviaResult'+idx);
      if (input.value.trim().toLowerCase() === trivias[idx].answer.toLowerCase()) {
        result.textContent = "✔ Correct! (+1 KES)";
        result.style.color = "#36cfc9";
        user.triviaEarnings += 1;
        user.earnings += 1;
        user.availableBalance += 1;
        updateEarnings();
      } else {
        result.textContent = "✘ Incorrect";
        result.style.color = "#fc3a3a";
      }
      input.disabled = true;
    }

    // Simulate referral earnings
    function addReferral(level) {
      if (level === 1) {
        user.referralsL1 += 1;
        user.referralEarningsL1 += 100;
        user.earnings += 100;
        user.availableBalance += 100;
      } else if (level === 2) {
        user.referralsL2 += 1;
        user.referralEarningsL2 += 50;
        user.earnings += 50;
        user.availableBalance += 50;
      }
      updateEarnings();
    }

    // Update earnings in dashboard and referral section
    function updateEarnings() {
      document.getElementById('totalEarnings').textContent = user.earnings + " KES";
      document.getElementById('referralEarningsL1').textContent = user.referralEarningsL1 + " KES";
      document.getElementById('referralEarningsL2').textContent = user.referralEarningsL2 + " KES";
      document.getElementById('likesEarnings').textContent = user.photoEarnings + " KES";
      document.getElementById('videoEarnings').textContent = user.videoEarnings + " KES";
      document.getElementById('triviaEarnings').textContent = user.triviaEarnings + " KES";
      document.getElementById('availableBalance').textContent = user.availableBalance + " KES";
      document.getElementById('withdrawnBalance').textContent = user.withdrawn + " KES";
      document.getElementById('referralEarningsL1_2').textContent = user.referralEarningsL1 + " KES";
      document.getElementById('referralEarningsL2_2').textContent = user.referralEarningsL2 + " KES";
      document.getElementById('referralCountL1').textContent = user.referralsL1;
      document.getElementById('referralCountL2').textContent = user.referralsL2;
    }

    // Withdrawal
    document.getElementById('withdrawalForm').onsubmit = function(e) {
      e.preventDefault();
      const amt = parseFloat(this.amount.value);
      if (amt < 150) {
        document.getElementById('withdrawalMessage').textContent = "Minimum withdrawal is 150 KES.";
        document.getElementById('withdrawalMessage').style.color = "#fc3a3a";
        return;
      }
      if (amt > user.availableBalance) {
        document.getElementById('withdrawalMessage').textContent = "Insufficient balance.";
        document.getElementById('withdrawalMessage').style.color = "#fc3a3a";
        return;
      }
      const fee = Math.round(amt * 0.10);
      const finalAmt = amt - fee;
      user.availableBalance -= amt;
      user.withdrawn += finalAmt;
      updateEarnings();
      document.getElementById('withdrawalMessage').textContent =
        `Withdrawal successful! You will receive ${finalAmt} KES after 10% fee (${fee} KES).`;
      document.getElementById('withdrawalMessage').style.color = "#36cfc9";
      this.reset();
    };

    // Leaderboard (dummy data)
    const leaderboard = [
      {username: 'Alice', earnings: 900, referrals: 20},
      {username: 'Bob', earnings: 850, referrals: 15},
      {username: 'Charlie', earnings: 800, referrals: 12},
      {username: 'You', earnings: 0, referrals: 0}
    ];
    function loadLeaderboard() {
      const table = document.getElementById('leaderboardTable');
      table.innerHTML = '';
      leaderboard[3].earnings = user.earnings;
      leaderboard[3].referrals = user.referralsL1 + user.referralsL2;
      leaderboard.sort((a, b) => b.earnings - a.earnings);
      leaderboard.forEach((u, i) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${i+1}</td>
          <td>${u.username}</td>
          <td>${u.earnings} KES</td>
          <td>${u.referrals}</td>
        `;
        table.appendChild(tr);
      });
    }

    function logout() {
      document.getElementById('app').style.display = 'none';
      document.getElementById('homepage').style.display = 'block';
    }

    // Initial load
    window.onload = function() {
      loadPhotos();
      loadVideos();
      loadTrivia();
      loadLeaderboard();
    };
  </script>
</body>
</html>